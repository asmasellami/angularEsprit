<!--
<div class="container">
  <div class="row mb-3">
    <div class="col-12 col-md-6">
      <label class="form-label" for="searchInput">Recherche rapide</label>
      <input id="searchInput" type="text" [formControl]="searchInput" class="form-control" placeholder="Rechercher par titre, lieu..." />
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Ajouter un événement</h5>

      <form [formGroup]="eventForm" (ngSubmit)="add()" novalidate>
        <div class="mb-3">
          <label for="titre" class="form-label">Titre</label>
          <input id="titre" formControlName="Titre" class="form-control" placeholder="Titre de l'événement"/>
          <div *ngIf="eventForm.get('Titre')?.invalid && (eventForm.get('Titre')?.dirty || eventForm.get('Titre')?.touched)" class="text-danger small">
            Le titre est requis.
          </div>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea id="description" formControlName="Description" class="form-control" rows="3" placeholder="Description..."></textarea>
          <div *ngIf="eventForm.get('Description')?.errors && eventForm.get('Description')?.touched" class="text-danger small">
            <div *ngIf="eventForm.get('Description')?.errors?.['required']">La description est requise.</div>
            <div *ngIf="eventForm.get('Description')?.errors?.['minlength']">La description doit contenir au moins 10 caractères.</div>
          </div>
        </div>

        <fieldset formGroupName="Place" class="border rounded p-3 mb-3">
          <legend class="small">Lieu</legend>
          <div class="row g-2">
            <div class="col-12 col-md-4">
              <label class="form-label">Gouvernorat</label>
              <input type="text" formControlName="gov" class="form-control" placeholder="Gouvernorat" />
            </div>
            <div class="col-12 col-md-4">
              <label class="form-label">Province</label>
              <input type="text" formControlName="prov" class="form-control" placeholder="Province" />
            </div>
            <div class="col-12 col-md-4">
              <label class="form-label">Code postal</label>
              <input type="text" formControlName="postal_code" class="form-control" placeholder="Code postal" />
            </div>
          </div>
        </fieldset>

        <div formArrayName="Fields" class="mb-3">
          <label class="form-label">Champs dynamiques</label>
          <div class="d-flex mb-2">
            <button type="button" (click)="addField()" class="btn btn-sm btn-outline-primary me-2">Ajouter un champ</button>
            <small class="text-muted align-self-center">Utilisez les champs dynamiques pour ajouter des informations supplémentaires.</small>
          </div>

          <div *ngFor="let field of Fields.controls; let i = index" [formGroupName]="i" class="input-group mb-2">
            <input class="form-control" formControlName="name" placeholder="Nom du champ" />
            <button type="button" class="btn btn-danger" (click)="Fields.removeAt(i)">Supprimer</button>
          </div>
        </div>

        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-success" [disabled]="eventForm.invalid">Ajouter l'événement</button>
        </div>
      </form>
    </div>
  </div>
</div>
 -->




<label for="">Search:</label><input type="text" [formControl]="searchInput" />

<form [formGroup]="eventForm" (ngSubmit)="add()" class="form-group">
  <label for="titre">Titre:</label>
  <input id="titre" formControlName="Titre"  class="form-control"/>
  <span class="text-danger" *ngIf="eventForm.get('Titre')?.invalid && (eventForm.get('Titre')?.dirty || eventForm.get('Titre')?.touched)">Title is required</span><br>

  <label for="description">Description:</label>
  <input id="description" formControlName="Description" class="form-control"/>

  <span class="text-danger" *ngIf="Description?.errors?.['required'] && Description?.touched">Description is required</span>
  <span class="text-danger" *ngIf="Description?.errors?.['minlength'] && Description?.touched">Description must be at least 10 chars.</span>



<div formGroupName="Place">
  <label for="">Gov</label>
  <input type="text" formControlName="gov" id="" class="form-control"/>

  <label for="">Prov</label>
  <input type="text" formControlName="prov" id="" class="form-control"/>

  <label for="">Postal Code</label>
  <input type="text" formControlName="postal_code" id="" class="form-control"/>
 </div>

    <div formArrayName="Fields">
        <label for="">Fields</label>
        <button (click)="addField()" class="btn btn-info">+</button>

    <div *ngFor="let field of Fields.controls; let i=index" [formGroupName]="i">
      <input type="text" formControlName="name" id="" class="form-control"/>
    </div>
  </div>



  <button type="submit">Ajouter Événement</button>
</form>
